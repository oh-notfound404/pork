<!DOCTYPE html>
<html lang="en" class="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Share Boost ‚Ä¢ Autumn</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: { poppins: ['Poppins', 'sans-serif'] },
      colors: {
        autumn: '#C2410C',
        autumnDark: '#9A3412',
        bgDark: '#1C1917',
        cardDark: '#292524'
      },
      boxShadow: {
        leaf: '0 0 18px rgba(249,115,22,.35)'
      }
    }
  }
}
</script>

<style>
body {
  font-family: Poppins;
  overflow-x: hidden;
}

.leaf {
  position: fixed;
  top: -10%;
  font-size: 22px;
  pointer-events: none;
  animation: fall linear infinite, sway ease-in-out infinite;
  z-index: 5;
}

@keyframes fall {
  to { transform: translateY(120vh) rotate(360deg); }
}
@keyframes sway {
  0% { margin-left: 0 }
  50% { margin-left: 60px }
  100% { margin-left: 0 }
}

.progress-wrap {
  margin-top: 1rem;
  background: #292524;
  border-radius: 999px;
  overflow: hidden;
  height: 10px;
}
.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #f97316, #c2410c);
  transition: width .4s ease;
}
</style>
</head>

<body class="bg-bgDark text-gray-100">

<div class="max-w-md mx-auto min-h-screen pb-20">

<header class="p-4 border-b border-orange-900 sticky top-0 bg-bgDark z-40">
  <h1 class="text-xl font-semibold text-orange-400 flex items-center gap-2">
    üçÅ Share Boost
  </h1>
</header>

<main class="p-4 space-y-4">

<form id="shareForm" class="space-y-4">
  <textarea id="cookie" rows="3" placeholder="Facebook Cookie String"
    class="w-full p-3 rounded-lg bg-cardDark border border-orange-800"></textarea>

  <input id="link" type="url" placeholder="Facebook Post Link"
    class="w-full p-3 rounded-lg bg-cardDark border border-orange-800">

  <div class="grid grid-cols-2 gap-3">
    <input id="count" type="number" placeholder="Shares"
      class="p-3 rounded-lg bg-cardDark border border-orange-800">
    <input id="delay" type="number" placeholder="Delay (input 1)"
      class="p-3 rounded-lg bg-cardDark border border-orange-800">
  </div>

  <button id="startBtn"
    class="w-full bg-autumn hover:bg-autumnDark py-3 rounded-lg font-semibold shadow-leaf flex justify-center gap-2">
    <i data-lucide="rocket"></i> Start Boost
  </button>
</form>

<div id="progressBox" class="hidden">
  <div class="text-sm mt-2 text-orange-300" id="progressText">
    Sharing 0 / 0 üçÇ
  </div>
  <div class="progress-wrap">
    <div class="progress-bar" id="progressBar"></div>
  </div>
</div>

<div id="result" class="text-center mt-3"></div>
</main>
</div>

<script>
lucide.createIcons();

const icons = ["üçÅ","üçÇ","üçÉ"];
setInterval(() => {
  const leaf = document.createElement("div");
  leaf.className = "leaf";
  leaf.textContent = icons[Math.floor(Math.random()*icons.length)];
  leaf.style.left = Math.random()*100 + "vw";
  leaf.style.animationDuration =
    (6 + Math.random()*6) + "s, " + (3 + Math.random()*4) + "s";
  document.body.appendChild(leaf);
  setTimeout(() => leaf.remove(), 15000);
}, 350);

const form = document.getElementById("shareForm");
const btn = document.getElementById("startBtn");
const progressBox = document.getElementById("progressBox");
const progressBar = document.getElementById("progressBar");
const progressText = document.getElementById("progressText");
const result = document.getElementById("result");

form.addEventListener("submit", async e => {
  e.preventDefault();

  const cookie = cookieInput();
  const link = linkInput();
  const count = numberInput("count");
  const delay = numberInput("delay");

  if (!cookie || !link || count <= 0 || delay < 0) {
    showError("Please fill all fields correctly");
    return;
  }

  btn.disabled = true;
  btn.textContent = "üöÄ Boosting...";
  result.innerHTML = "";
  progressBox.classList.remove("hidden");
  progressBar.style.width = "0%";
  progressText.textContent = `Sharing 0 / ${count} üçÇ`;

  try {
    const params = new URLSearchParams({ cookie, link, count, delay });
    const res = await fetch(`/tools/shareboost?${params}`);
    const data = await res.json();

    if (data.status !== "success") {
      throw new Error(data.message || "Boost failed");
    }

    progressBar.style.width = "100%";
    progressText.textContent = `Sharing ${data.shared} / ${count} üçÇ`;

    result.innerHTML = `
      <div class="bg-green-900/30 border border-green-700 p-3 rounded">
        ‚úÖ Shared: <b>${data.shared}</b><br>
        ‚è± ${data.responseTime}<br>
        </div>
    `;
  } catch (err) {
    showError(err.message);
  } finally {
    btn.disabled = false;
    btn.innerHTML = `<i data-lucide="rocket"></i> Start Boost`;
    lucide.createIcons();
  }
});

function cookieInput() {
  return document.getElementById("cookie").value.trim();
}
function linkInput() {
  return document.getElementById("link").value.trim();
}
function numberInput(id) {
  return Number(document.getElementById(id).value);
}
function showError(msg) {
  result.innerHTML = `
    <div class="bg-red-900/30 border border-red-700 p-3 rounded">
      ‚ùå ${msg}
    </div>`;
}
</script>
</body>
</html>